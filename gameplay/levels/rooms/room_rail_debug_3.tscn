[gd_scene load_steps=11 format=3 uid="uid://bpkjtqkgpumxb"]

[ext_resource type="Script" uid="uid://bs7f23tp6ag5b" path="res://gameplay/levels/rooms/room_rail.gd" id="1_knv8m"]
[ext_resource type="PackedScene" uid="uid://v8c1n5heb5he" path="res://gameplay/mineables/mineable.tscn" id="2_4ixc5"]
[ext_resource type="PackedScene" uid="uid://iks8unx63yfk" path="res://assets/biomes/rock/Straight_Short_Rock_2.glb" id="2_4374h"]
[ext_resource type="PackedScene" uid="uid://cyoiim01lndok" path="res://assets/biomes/rock/Straight_Short_Rock_1.glb" id="3_802b7"]
[ext_resource type="PackedScene" uid="uid://c0jcxoe5h3qg2" path="res://gameplay/enemies/enemy.tscn" id="3_h1hg0"]
[ext_resource type="PackedScene" uid="uid://y8hvkw4ln8u2" path="res://gameplay/levels/rooms/room_gate.tscn" id="4_4ixc5"]
[ext_resource type="PackedScene" uid="uid://v30ubfyspib1" path="res://assets/biomes/rock/BendL_Short_Rock_1.glb" id="4_l1b7h"]
[ext_resource type="PackedScene" uid="uid://b1u2hxcf1t38u" path="res://assets/biomes/rock/BendR_Short_Rock_1.glb" id="5_00f7g"]
[ext_resource type="PackedScene" uid="uid://cp4oodnwifpan" path="res://gameplay/levels/rooms/raildock_trigger.tscn" id="5_h1hg0"]

[sub_resource type="Curve3D" id="Curve3D_pblmp"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, -25.814407, 0, 0, 0, 0, 0, 0, -100.59136, 0, -452.6534, 0, 0, 0, 0, 0, 0, -122.092834, 0, -549.40845, 0, 0, 0, 0, 0, 0, -126.66191, 0, -608.5801),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[node name="Room_Rail_Debug" type="Node3D"]
script = ExtResource("1_knv8m")

[node name="Terrain" type="Node3D" parent="."]

[node name="Straight_Short_Rock_22" parent="Terrain" instance=ExtResource("2_4374h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.1007385, -17.678253, -36.25984)

[node name="Straight_Short_Rock_23" parent="Terrain" instance=ExtResource("2_4374h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.1007385, -17.678253, -231.80267)

[node name="Straight_Short_Rock_24" parent="Terrain" instance=ExtResource("2_4374h")]
transform = Transform3D(0.7582254, 0, 0.65199256, 0, 1, 0, -0.65199256, 0, 0.7582254, -56.20612, -18.66669, -416.49152)

[node name="Straight_Short_Rock_12" parent="Terrain" instance=ExtResource("3_802b7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.372917, -18.420622, -134.81097)

[node name="Straight_Short_Rock_13" parent="Terrain" instance=ExtResource("3_802b7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -132.44055, -16.422834, -596.5687)

[node name="BendL_Short_Rock_12" parent="Terrain" instance=ExtResource("4_l1b7h")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -2.7715607, -17.87387, -329.54016)

[node name="BendR_Short_Rock_12" parent="Terrain" instance=ExtResource("5_00f7g")]
transform = Transform3D(-0.7748674, 0, -0.632124, 0, 1, 0, 0.632124, 0, -0.7748674, -119.297455, -17.736776, -491.85352)

[node name="PathNodes" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10.545999, 0)

[node name="Rail_Path" type="Path3D" parent="PathNodes"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.9401703, -26.261932, 4.923065)
curve = SubResource("Curve3D_pblmp")

[node name="Mineables" type="Node3D" parent="."]

[node name="Mineable" parent="Mineables" instance=ExtResource("2_4ixc5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.29568, 0.43147755, -1032.8203)

[node name="BulletsParent" type="Node3D" parent="." groups=["BulletsParent"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.478386, 0)

[node name="EnemyParent" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.478386, 0)

[node name="Enemy" parent="EnemyParent" instance=ExtResource("3_h1hg0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.019878, -23.473177, -143.8657)

[node name="Enemy2" parent="EnemyParent" instance=ExtResource("3_h1hg0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.3260536, -23.473177, -356.46255)

[node name="Enemy3" parent="EnemyParent" instance=ExtResource("3_h1hg0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -141.9505, -23.473177, -481.42334)

[node name="Enemy4" parent="EnemyParent" instance=ExtResource("3_h1hg0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -49.795937, -23.473177, -443.83997)

[node name="Triggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.478386, 0)

[node name="RoomGate_1" parent="Triggers" node_paths=PackedStringArray("align_marker") instance=ExtResource("4_4ixc5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 13.883591, 8.47407)
align_marker = NodePath("../../Markers/EntryMarker")

[node name="CollisionShape3D" parent="Triggers/RoomGate_1" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.7218246, -26.047, 5.0601463)

[node name="RoomGate_2" parent="Triggers" node_paths=PackedStringArray("align_marker") instance=ExtResource("4_4ixc5")]
transform = Transform3D(1.0000001, 0, 0, 0, 1, 0, 0, 0, 1.0000001, -133.22232, -16.163437, -646.05035)
gate_id = &"gate_2"
align_marker = NodePath("../../Markers/ExitMarker")

[node name="RailRoom_RailDockTrigger" parent="Triggers" instance=ExtResource("5_h1hg0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -4.0327663, 3.5761247)
rail_id = 1
direction = 0

[node name="CollisionShape3D" parent="Triggers/RailRoom_RailDockTrigger" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.2222443, -11.108217, -14.479431)

[node name="RailRoom_RailDockTrigger2" parent="Triggers" instance=ExtResource("5_h1hg0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -128.45337, -16.638704, -609.4935)
rail_id = 2
direction = -1
target_progress_percent = 100.0

[node name="CollisionShape3D" parent="Triggers/RailRoom_RailDockTrigger2" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.526428, -6.34676, -9.975159)

[node name="Markers" type="Node3D" parent="."]

[node name="EntryMarker" type="Marker3D" parent="Markers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.051188584, 10.004137)

[node name="ExitMarker" type="Marker3D" parent="Markers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -134.20618, -16.2768, -645.4968)

[editable path="Triggers/RoomGate_1"]
[editable path="Triggers/RoomGate_2"]
[editable path="Triggers/RailRoom_RailDockTrigger"]
[editable path="Triggers/RailRoom_RailDockTrigger2"]

[gd_scene load_steps=18 format=3 uid="uid://cjur0pgj85cwp"]

[ext_resource type="Script" uid="uid://bs7f23tp6ag5b" path="res://gameplay/levels/rooms/room_rail.gd" id="1_pblmp"]
[ext_resource type="PackedScene" uid="uid://dhi2c0hloi73x" path="res://assets/biomes/rock/Tunnel_Strt_T.glb" id="2_0e56h"]
[ext_resource type="PackedScene" uid="uid://v8c1n5heb5he" path="res://gameplay/mineables/mineable.tscn" id="2_7blt8"]
[ext_resource type="PackedScene" uid="uid://c0jcxoe5h3qg2" path="res://gameplay/enemies/enemy.tscn" id="3_71mw5"]
[ext_resource type="PackedScene" uid="uid://bvddw373aud37" path="res://assets/biomes/rock/Tunne_45L_T.glb" id="3_g216k"]
[ext_resource type="PackedScene" uid="uid://colgabk74451j" path="res://assets/biomes/rock/Tunnel_Sqz_T.glb" id="4_02m2v"]
[ext_resource type="PackedScene" uid="uid://y8hvkw4ln8u2" path="res://gameplay/levels/rooms/room_gate.tscn" id="4_21gqm"]
[ext_resource type="PackedScene" uid="uid://cp4oodnwifpan" path="res://gameplay/levels/rooms/raildock_trigger.tscn" id="5_bl23d"]
[ext_resource type="PackedScene" uid="uid://cchx8tmukvbfr" path="res://assets/biomes/rock/Tunne_45R_T.glb" id="5_pwf6p"]
[ext_resource type="PackedScene" uid="uid://ro3y0jjp5e0j" path="res://assets/biomes/rock/Tunnel_Xpnd_T.glb" id="6_n30a4"]
[ext_resource type="PackedScene" uid="uid://ixpvuw5s3fiv" path="res://assets/biomes/rock/Tunnel_Strt_B.glb" id="7_atavo"]
[ext_resource type="PackedScene" uid="uid://b6pr734he7sh5" path="res://assets/biomes/rock/Tunne_45L_B.glb" id="8_3w0te"]
[ext_resource type="PackedScene" uid="uid://bno5k05sumi2m" path="res://assets/biomes/rock/Tunnel_Sqz_B.glb" id="9_cu6y5"]
[ext_resource type="PackedScene" uid="uid://c4h1mw82oliqu" path="res://assets/biomes/rock/Tunne_45R_B.glb" id="10_3vp0a"]
[ext_resource type="PackedScene" uid="uid://dlknser47lmer" path="res://assets/biomes/rock/Tunne_Xpnd_B.glb" id="11_u7fyf"]
[ext_resource type="Script" uid="uid://csg6o0vsr6xa1" path="res://gameplay/levels/rooms/rail_visualization_tool.gd" id="12_g216k"]

[sub_resource type="Curve3D" id="Curve3D_02m2v"]
_data = {
"points": PackedVector3Array(-0.072333336, -6.1035156e-05, 4.010414, 0.072333336, 6.1035156e-05, -4.010414, 2.3361368, 0.024719238, -12.258366, 0.9190655, 0, 4.4608345, -0.9190655, 0, -4.4608345, 1.8042412, 0.030517578, -27.869984, 1.6064198, 0, 3.598587, -1.6064198, 0, -3.598587, -3.0654786, 0.040161133, -42.064247, 1.4084167, -0.00011062622, 2.5076942, -1.4084167, 0.00011062622, -2.5076942, -9.035552, 0.04689789, -53.823345, 3.0914536, 0, 3.7953644, -3.0914536, 0, -3.7953644, -18.615116, 0.052490234, -66.301605, 2.8640556, 0, 2.4399796, -2.8640556, 0, -2.4399796, -34.34524, 0.064331055, -81.1186, 2.7908707, 0, 2.323372, -2.7908707, 0, -2.323372, -50.240852, 0.07507324, -93.409935, 2.7399406, -0.0031738281, 3.2981339, -2.7399406, 0.0031738281, -3.2981339, -60.865532, 0.083496094, -104.14645, 1.4152985, -0.00390625, 5.9718018, -1.4152985, 0.00390625, -5.9718018, -68.7092, -0.0021972656, -121.65157, 0.048110962, 4.5776367e-05, 1.5608063, -0.048110962, -4.5776367e-05, -1.5608063, -69.612625, 0.11291504, -141.73297, -0.009147644, 5.340576e-05, 1.4820251, 0.009147644, -5.340576e-05, -1.4820251, -69.82805, 0.123535156, -154.72012, 0.08307648, -3.8146973e-05, 5.5311737, -0.08307648, 3.8146973e-05, -5.5311737, -70.05208, 0.13871002, -173.9239),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 12

[node name="Room_Rail_Debug_2" type="Node3D"]
script = ExtResource("1_pblmp")

[node name="Terrain" type="Node3D" parent="."]

[node name="Tops" type="Node3D" parent="Terrain"]

[node name="Tunnel_Strt_T" parent="Terrain/Tops" instance=ExtResource("2_0e56h")]

[node name="Tunnel_Strt_T2" parent="Terrain/Tops" instance=ExtResource("2_0e56h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -20)

[node name="Tunne_45L_T" parent="Terrain/Tops" instance=ExtResource("3_g216k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -40)

[node name="Tunnel_Strt_T3" parent="Terrain/Tops" instance=ExtResource("2_0e56h")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, -22, 0, -70.12449)

[node name="Tunnel_Strt_T4" parent="Terrain/Tops" instance=ExtResource("2_0e56h")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, -36, 0, -84.12449)

[node name="Tunnel_Sqz_T" parent="Terrain/Tops" instance=ExtResource("4_02m2v")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, -50, 0, -98)

[node name="Tunne_45R_T" parent="Terrain/Tops" instance=ExtResource("5_pwf6p")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, -63.783157, 0, -112.07234)

[node name="Tunnel_Xpnd_T" parent="Terrain/Tops" instance=ExtResource("6_n30a4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -69, 0, -144)

[node name="Tunnel_Xpnd_T2" parent="Terrain/Tops" instance=ExtResource("6_n30a4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -69, 0, -164)

[node name="Tunnel_Sqz_T2" parent="Terrain/Tops" instance=ExtResource("4_02m2v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -69, 0, -184)

[node name="Bottoms" type="Node3D" parent="Terrain"]

[node name="Tunnel_Strt_B" parent="Terrain/Bottoms" instance=ExtResource("7_atavo")]

[node name="Tunnel_Strt_B2" parent="Terrain/Bottoms" instance=ExtResource("7_atavo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -20)

[node name="Tunne_45L_B" parent="Terrain/Bottoms" instance=ExtResource("8_3w0te")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -40)

[node name="Tunnel_Strt_B3" parent="Terrain/Bottoms" instance=ExtResource("7_atavo")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, -22, 0, -70.12449)

[node name="Tunnel_Strt_B4" parent="Terrain/Bottoms" instance=ExtResource("7_atavo")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, -36, 0, -84.12449)

[node name="Tunnel_Sqz_B" parent="Terrain/Bottoms" instance=ExtResource("9_cu6y5")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, -50, 0, -98)

[node name="Tunne_45R_B" parent="Terrain/Bottoms" instance=ExtResource("10_3vp0a")]
transform = Transform3D(0.70710677, 0, 0.70710677, 0, 1, 0, -0.70710677, 0, 0.70710677, -63.783157, 0, -112.07234)

[node name="Tunne_Xpnd_B" parent="Terrain/Bottoms" instance=ExtResource("11_u7fyf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -69, 0, -144)

[node name="Tunne_Xpnd_B2" parent="Terrain/Bottoms" instance=ExtResource("11_u7fyf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -69, 0, -164)

[node name="Tunnel_Sqz_B2" parent="Terrain/Bottoms" instance=ExtResource("9_cu6y5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -69, 0, -184)

[node name="PathNodes" type="Node3D" parent="."]

[node name="Rail_Path" type="Path3D" parent="PathNodes"]
curve = SubResource("Curve3D_02m2v")

[node name="Rail_Visualization_Tool" type="Node3D" parent="PathNodes"]
script = ExtResource("12_g216k")

[node name="rail_l" type="CSGPolygon3D" parent="PathNodes/Rail_Visualization_Tool"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 0)
mode = 2
path_node = NodePath("../../Rail_Path")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="rail_r" type="CSGPolygon3D" parent="PathNodes/Rail_Visualization_Tool"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
mode = 2
path_node = NodePath("../../Rail_Path")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="Mineables" type="Node3D" parent="."]

[node name="Mineable" parent="Mineables" instance=ExtResource("2_7blt8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.29568, -11.468765, -14.007385)

[node name="Mineable2" parent="Mineables" instance=ExtResource("2_7blt8")]
transform = Transform3D(0.1458343, -0.97721195, -0.1542368, -0.87093335, -0.052864365, -0.48854926, 0.46926254, 0.20557722, -0.8587959, 0.009078383, 1.5664127, -77.7125)

[node name="Mineable3" parent="Mineables" instance=ExtResource("2_7blt8")]
transform = Transform3D(0.6527137, -0.03831907, 0.75663495, 0.24220169, 0.95686233, -0.16047661, -0.71784616, 0.28800353, 0.63383794, -59.947296, -11.487503, -106.46653)

[node name="Mineable4" parent="Mineables" instance=ExtResource("2_7blt8")]
transform = Transform3D(0.6527137, -0.03831907, 0.75663495, 0.24220169, 0.95686233, -0.16047661, -0.71784616, 0.28800353, 0.63383794, -79.331436, -13.585477, -161.4307)

[node name="BulletsParent" type="Node3D" parent="." groups=["BulletsParent"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.478386, 0)

[node name="EnemyParent" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.478386, 0)

[node name="Enemy" parent="EnemyParent" instance=ExtResource("3_71mw5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.772521, -7.5935316, -24.369755)

[node name="Enemy2" parent="EnemyParent" instance=ExtResource("3_71mw5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -51.59773, -1.6289649, -88.105774)

[node name="Enemy3" parent="EnemyParent" instance=ExtResource("3_71mw5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -70.98187, -3.726939, -143.06995)

[node name="Triggers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.478386, 0)

[node name="RoomGate_1" parent="Triggers" node_paths=PackedStringArray("align_marker") instance=ExtResource("4_21gqm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 9.549)
align_marker = NodePath("../../Markers/EntryMarker")

[node name="RoomGate_2" parent="Triggers" node_paths=PackedStringArray("align_marker") instance=ExtResource("4_21gqm")]
transform = Transform3D(0.99999994, 0, 0, 0, 1, 0, 0, 0, 0.99999994, -70.562, 0, -193.257)
gate_id = &"gate_2"
align_marker = NodePath("../../Markers/ExitMarker")

[node name="CollisionShape3D" parent="Triggers/RoomGate_2" index="0"]
transform = Transform3D(0.999998, 0, 0, 0, 1, 0, 0, 0, 0.999998, 2.1084213, 0, 0)

[node name="RailRoom_RailDockTrigger" parent="Triggers" node_paths=PackedStringArray("rail_path") instance=ExtResource("5_bl23d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.304)
rail_id = 1
direction = 0
rail_path = NodePath("../../PathNodes/Rail_Path")

[node name="CollisionShape3D" parent="Triggers/RailRoom_RailDockTrigger" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.27847672, -0.7187176, 0)

[node name="RailRoom_RailDockTrigger2" parent="Triggers" node_paths=PackedStringArray("rail_path") instance=ExtResource("5_bl23d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -68.723, 0, -186.517)
rail_id = 2
direction = -1
target_progress_percent = 100.0
rail_path = NodePath("../../PathNodes/Rail_Path")

[node name="CollisionShape3D" parent="Triggers/RailRoom_RailDockTrigger2" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.302, 0, 5.934)

[node name="Markers" type="Node3D" parent="."]

[node name="EntryMarker" type="Marker3D" parent="Markers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 10)

[node name="ExitMarker" type="Marker3D" parent="Markers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -68.73657, 0.934, -194.036)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]

[editable path="Triggers/RoomGate_1"]
[editable path="Triggers/RoomGate_2"]
[editable path="Triggers/RailRoom_RailDockTrigger"]
[editable path="Triggers/RailRoom_RailDockTrigger2"]
